"use strict";(self.webpackChunkjumbo_sales=self.webpackChunkjumbo_sales||[]).push([[601],{8601:(T,_,l)=>{l.r(_),l.d(_,{StockModule:()=>S});var u=l(4934),s=l(4736),t=l(8256),g=l(2852),d=l(6895),m=l(8416),r=l(433),C=l(7533);function x(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"span",10),t.NdJ("click",function(){const a=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.popUp={pop:"add-stock",extraData:a})}),t._UZ(15,"i",7),t.qZA()(),t.TgZ(16,"td")(17,"span",11),t.NdJ("click",function(){const a=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.popUp={pop:"edit-product",extraData:a})}),t._UZ(18,"i",12),t.qZA()(),t.TgZ(19,"td")(20,"span",13),t.NdJ("click",function(){const a=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.popUp={pop:"delete-product",extraData:a})}),t._UZ(21,"i",14),t.qZA()()()}if(2&e){const n=i.$implicit;let o;t.xp6(2),t.Oqu(null==n.id||null==(o=n.id.toString())?null:o.padStart(3,"0")),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.hij("",n.cost,"$"),t.xp6(2),t.hij("",n.price,"$"),t.xp6(2),t.hij("",(n.price/n.cost*100-100).toFixed(1),"%"),t.xp6(2),t.Oqu(n.quantity)}}function h(e,i){if(1&e&&(t.TgZ(0,"table")(1,"tr")(2,"th"),t._uU(3,"Id"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Produto"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Custo"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Pre\xe7o"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Lucro"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Quantidade"),t.qZA(),t._UZ(14,"th")(15,"th")(16,"th"),t.qZA(),t.YNc(17,x,22,6,"tr",9),t.qZA()),2&e){const n=t.oxw();t.xp6(17),t.Q6J("ngForOf",n.StockProducts)}}function f(e,i){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Sem produtos em Estoque"),t.qZA())}function M(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",19,20),t.NdJ("submit",function(){t.CHM(n);const c=t.MAs(1),a=t.oxw(2);return t.KtG(a.newProduct(c.value))}),t.TgZ(2,"h5"),t._uU(3,"Adicionar novo Produto"),t.qZA(),t._UZ(4,"input",21)(5,"input",22)(6,"input",23),t.TgZ(7,"button",24),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.popUp=void 0)}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",25),t._uU(10,"Adicionar"),t.qZA()()}if(2&e){const n=t.MAs(1),o=t.oxw(2);t.xp6(5),t.Q6J("mask","0*")("disabled",o.loading_),t.xp6(1),t.Q6J("mask","0*")("disabled",o.loading_),t.xp6(1),t.Q6J("disabled",o.loading_),t.xp6(2),t.ekj("doLoading",o.loading_),t.Q6J("disabled",n.invalid||o.loading_)}}function b(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",19,26),t.NdJ("submit",function(){t.CHM(n);const c=t.MAs(1),a=t.oxw(2);return t.KtG(a.editProduct(c.value))}),t.TgZ(2,"h5"),t._uU(3,"Editar Produto"),t.qZA(),t.TgZ(4,"input",27),t.NdJ("ngModelChange",function(c){t.CHM(n);const a=t.oxw(2);return t.KtG((null==a.popUp?null:a.popUp.extraData).name=c)}),t.qZA(),t.TgZ(5,"input",28),t.NdJ("ngModelChange",function(c){t.CHM(n);const a=t.oxw(2);return t.KtG((null==a.popUp?null:a.popUp.extraData).cost=c)}),t.qZA(),t.TgZ(6,"input",29),t.NdJ("ngModelChange",function(c){t.CHM(n);const a=t.oxw(2);return t.KtG((null==a.popUp?null:a.popUp.extraData).price=c)}),t.qZA(),t.TgZ(7,"button",24),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.popUp=void 0)}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",25),t._uU(10,"Submeter"),t.qZA()()}if(2&e){const n=t.MAs(1),o=t.oxw(2);t.xp6(4),t.Q6J("ngModel",null==o.popUp?null:o.popUp.extraData.name),t.xp6(1),t.Q6J("ngModel",null==o.popUp?null:o.popUp.extraData.cost)("mask","0*")("disabled",o.loading_),t.xp6(1),t.Q6J("ngModel",null==o.popUp?null:o.popUp.extraData.price)("mask","0*")("disabled",o.loading_),t.xp6(1),t.Q6J("disabled",o.loading_),t.xp6(2),t.ekj("doLoading",o.loading_),t.Q6J("disabled",n.invalid||o.loading_)}}function k(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",19,30),t.NdJ("submit",function(){t.CHM(n);const c=t.MAs(1),a=t.oxw(2);return t.KtG(a.addToStock(c.value))}),t.TgZ(2,"h5"),t._uU(3),t.qZA(),t._UZ(4,"input",31),t.TgZ(5,"button",24),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.popUp=void 0)}),t._uU(6,"Cancelar"),t.qZA(),t.TgZ(7,"button",25),t._uU(8,"Adicionar"),t.qZA()()}if(2&e){const n=t.MAs(1),o=t.oxw(2);t.xp6(3),t.hij("Adicionar Estoque de ",null==o.popUp||null==o.popUp.extraData?null:o.popUp.extraData.name,""),t.xp6(1),t.Q6J("disabled",o.loading_),t.xp6(1),t.Q6J("disabled",o.loading_),t.xp6(2),t.ekj("doLoading",o.loading_),t.Q6J("disabled",n.invalid||o.loading_)}}function P(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"h5"),t._uU(2),t.qZA(),t.TgZ(3,"button",32),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.popUp=void 0)}),t._uU(4,"N\xe3o"),t.qZA(),t.TgZ(5,"button",33),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.deleteProduct())}),t._uU(6,"Sim"),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(2),t.hij('Quer realmente apagar o Producto, "',null==n.popUp||null==n.popUp.extraData?null:n.popUp.extraData.name,'"?'),t.xp6(1),t.Q6J("disabled",n.loading_),t.xp6(2),t.ekj("doLoading",n.loading_),t.Q6J("disabled",n.loading_)}}function O(e,i){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,M,11,8,"form",17),t.YNc(3,b,11,11,"form",17),t.YNc(4,k,9,6,"form",17),t.YNc(5,P,7,5,"div",18),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngSwitch",null==n.popUp?null:n.popUp.pop),t.xp6(1),t.Q6J("ngSwitchCase","new-product"),t.xp6(1),t.Q6J("ngSwitchCase","edit-product"),t.xp6(1),t.Q6J("ngSwitchCase","add-stock"),t.xp6(1),t.Q6J("ngSwitchCase","delete-product")}}const Z=[{path:"",component:(()=>{class e{constructor(n,o,c){this.storageSvc=n,this.location_=o,this.global=c,this.loading_=!1,this.loadProducts()}ngOnInit(){}loadProducts(){this.StockProducts=this.storageSvc.loadStock().data||[]}newProduct(n){this.loading_=!0,n.quantity=0,n.cost=+n.cost,n.price=+n.price,this.storageSvc.newToStock(n),this.closePopUp()}editProduct(n){var o;this.loading_=!0,n.cost=+n.cost,n.price=+n.price,n.code=null===(o=this.popUp)||void 0===o?void 0:o.extraData.code,this.storageSvc.editOnStock(n),this.closePopUp()}addToStock(n){var o,c;this.loading_=!0,n.quantity=(null===(o=this.popUp)||void 0===o?void 0:o.extraData.quantity)+n.quantity,n.code=null===(c=this.popUp)||void 0===c?void 0:c.extraData.code,this.storageSvc.editOnStock(n),this.closePopUp()}deleteProduct(){var n;this.loading_=!0,this.storageSvc.deleteOnStock(null===(n=this.popUp)||void 0===n?void 0:n.extraData.code),this.closePopUp()}closePopUp(){setTimeout(()=>{this.loading_=!1,this.loadProducts(),this.popUp=void 0},100)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g._),t.Y36(d.Ye),t.Y36(m.U))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock"]],decls:11,vars:4,consts:[["id","stockBase",1,"baseContainer"],[1,"backBtn",3,"click"],[1,"fa-solid","fa-angle-left"],["alt","Logo Jumbo",1,"logo",3,"src"],[1,"table-box"],[4,"ngIf"],[1,"addToStock",3,"click"],[1,"fa-solid","fa-plus"],["class","popup",4,"ngIf"],[4,"ngFor","ngForOf"],["title","Adicionar Estoque",1,"green",3,"click"],["title","Editar Produto",1,"blue",3,"click"],[1,"fa-regular","fa-pen-to-square"],["title","Apagar Produto",1,"red",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"popup"],[1,"box",3,"ngSwitch"],[3,"submit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"submit"],["newProductForm","ngForm"],["ngModel","","type","text","name","name","minlength","3","maxlength","60","placeholder","Produto","autocomplete","none","required","",1,"jum-inp"],["ngModel","","type","tel","suffix","$","maxlength","6","name","cost","placeholder","Custo","autocomplete","none","required","",1,"jum-inp","half","l","text-right",3,"mask","disabled"],["ngModel","","type","tel","suffix","$","maxlength","6","name","price","placeholder","Pre\xe7o","autocomplete","none","required","",1,"jum-inp","half","text-right",3,"mask","disabled"],[1,"jum-btn","half","l","oran",3,"disabled","click"],["type","submit",1,"jum-btn","half",3,"disabled"],["editProductForm","ngForm"],["type","text","name","name","minlength","3","maxlength","60","placeholder","Produto","autocomplete","none","required","",1,"jum-inp",3,"ngModel","ngModelChange"],["type","tel","suffix","$","maxlength","6","name","cost","placeholder","Custo","autocomplete","none","required","",1,"jum-inp","half","l","text-right",3,"ngModel","mask","disabled","ngModelChange"],["type","tel","suffix","$","maxlength","6","name","price","placeholder","Pre\xe7o","autocomplete","none","required","",1,"jum-inp","half","text-right",3,"ngModel","mask","disabled","ngModelChange"],["addStockForm","ngForm"],["ngModel","","type","number","maxlength","10","name","quantity","placeholder","Quantidade","autocomplete","none","required","",1,"jum-inp","half","l","r","text-right",3,"disabled"],[1,"jum-btn","half","l","red",3,"disabled","click"],[1,"jum-btn","half",3,"disabled","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"header")(2,"span",1),t.NdJ("click",function(){return o.location_.back()}),t._UZ(3,"i",2),t.qZA(),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,h,18,1,"table",5),t.YNc(7,f,2,0,"h3",5),t.TgZ(8,"div",6),t.NdJ("click",function(){return o.popUp={pop:"new-product"}}),t._UZ(9,"i",7),t.qZA()()(),t.YNc(10,O,6,5,"div",8)),2&n&&(t.xp6(4),t.Q6J("src",o.global.logo,t.LSH),t.xp6(2),t.Q6J("ngIf",!(null==o.StockProducts||!o.StockProducts.length)),t.xp6(1),t.Q6J("ngIf",!!o.StockProducts&&!o.StockProducts.length),t.xp6(3),t.Q6J("ngIf",!(null==o.popUp||!o.popUp.pop)))},dependencies:[d.sg,d.O5,d.RF,d.n9,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.On,r.F,C.hx],styles:["#stockBase[_ngcontent-%COMP%]{padding-top:calc(58px + .5rem);padding-bottom:90px;min-height:100%;position:relative}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:calc(100% + 2rem);margin:0 -1rem;padding:0 1rem;overflow-x:auto}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 auto;border-collapse:separate;border-spacing:0 .75rem;width:100%}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;padding:.5rem 0}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:.5rem 1.5rem}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(-n+2){text-align:left}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap;padding:.5rem 1.5rem;font-weight:400;background-color:#d9d9d966}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;display:block;width:35px;cursor:pointer}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.green[_ngcontent-%COMP%]{color:#0f0}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.blue[_ngcontent-%COMP%]{color:#1e90ff}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.red[_ngcontent-%COMP%]{color:#dc143c}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-transform:capitalize}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(-n+2){text-align:left}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+3){width:30px;padding:.5rem}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:30px 0 0 30px;font-weight:700;width:5ch}#stockBase[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 30px 30px 0;padding-right:1.5rem}#stockBase[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#bbb;text-align:center;margin:5rem auto}#stockBase[_ngcontent-%COMP%]   .addToStock[_ngcontent-%COMP%]{position:fixed;bottom:1.5rem;right:1.5rem;width:50px;height:50px;border-radius:25px;background-color:#1e90ff;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.75em;cursor:pointer}"]}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.m,U]}),e})()}}]);